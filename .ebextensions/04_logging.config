option_settings:
  # Configuración de logging para debugging del pipeline
  aws:elasticbeanstalk:application:environment:
    # Variables específicas para el pipeline CI/CD
    PIPELINE_BUILD: "true"
    BUILD_SOURCE: "codebuild"
    
  # Configuración de logs de aplicación
  aws:elasticbeanstalk:cloudwatch:logs:
    StreamLogs: true
    DeleteOnTerminate: false
    RetentionInDays: 7
    
  # Configuración de logs del servidor web
  aws:elasticbeanstalk:cloudwatch:logs:health:
    HealthStreamingEnabled: true
    DeleteOnTerminate: false
    RetentionInDays: 3

files:
  # Crear directorio de logs si no existe
  "/opt/elasticbeanstalk/tasks/bundlelogs.d/01-app-logs.conf":
    content: |
      /var/log/eb-engine.log
      /var/log/eb-hooks.log
      /var/app/current/logs/*.log
